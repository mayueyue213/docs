(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{459:function(s,a,e){"use strict";e.r(a);var t=e(23),r=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"目录结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[s._v("#")]),s._v(" 目录结构")]),s._v(" "),e("p",[s._v("在 src 目录下 "),e("code",[s._v("tree -L 1")]),s._v(" 结果如下")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n├── compiler\n├── core\n├── platforms\n├── server\n├── sfc\n└── shared\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h2",{attrs:{id:"compiler"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#compiler"}},[s._v("#")]),s._v(" compiler")]),s._v(" "),e("p",[s._v("编译的核心三步在这里实现，将 template 转换成中间代码")]),s._v(" "),e("ul",[e("li",[s._v("AST 生成")]),s._v(" "),e("li",[s._v("AST 优化")]),s._v(" "),e("li",[s._v("中间代码生成")])]),s._v(" "),e("p",[s._v("这三个步骤是后续学习的一个重点。后面会说到的 "),e("code",[s._v("entry-runtime-with-compiler.js")]),s._v(" 入口，相对于 "),e("code",[s._v("runtime/index.js")]),s._v("，就是加上了 compiler，具备了运行时编译 template 的能力。")]),s._v(" "),e("h2",{attrs:{id:"core"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#core"}},[s._v("#")]),s._v(" core")]),s._v(" "),e("p",[s._v("Vue 核心，目录如下")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n├── components\n├── global"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("api\n├── instance\n├── observer\n├── util\n├── vdom\n├── config"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n└── index"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[s._v("包含了 内置组件、全局API、构造函数、观察者、Vitual DOM和一些工具函数，这是 Vue 的核心。")]),s._v(" "),e("h2",{attrs:{id:"platforms"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#platforms"}},[s._v("#")]),s._v(" platforms")]),s._v(" "),e("p",[s._v("子目录如下")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n├── web\n└── weex\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("针对不同平台的入口配置，web 和面向 Native 的 weex 所需的内容并不完全一致，因此需要做不同的打包，我们主要研究 "),e("code",[s._v("web")]),s._v(" 平台的入口。")]),s._v(" "),e("h2",{attrs:{id:"server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#server"}},[s._v("#")]),s._v(" server")]),s._v(" "),e("p",[s._v("SSR 相关的逻辑，SSR 是需要单独深入的部分。")]),s._v(" "),e("h2",{attrs:{id:"sfc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sfc"}},[s._v("#")]),s._v(" sfc")]),s._v(" "),e("p",[s._v("sfc 是 "),e("strong",[s._v("single-file components (单文件组件)")]),s._v(" 的缩写，也就是"),e("code",[s._v(".vue")]),s._v("文件，\n这个目录下就一个 "),e("strong",[s._v("parser.js")]),s._v(" 文件，负责识别 script，template 和 style 各部分，将 "),e("code",[s._v(".vue")]),s._v(" 文件解析成 JS 对象。")]),s._v(" "),e("h2",{attrs:{id:"shared"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shared"}},[s._v("#")]),s._v(" shared")]),s._v(" "),e("p",[s._v("公共变量，方法的定义，理解为 "),e("strong",[s._v("share between client and server")]),s._v(" 即可。比较典型的是 "),e("code",[s._v("data-server-rendered")]),s._v(" 这个 SSR 时使用到的标记，即是在此定义的。")]),s._v(" "),e("h2",{attrs:{id:"总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),e("p",[s._v("一个字 —— 很好。")])])}),[],!1,null,null,null);a.default=r.exports}}]);